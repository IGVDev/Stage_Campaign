(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2789)}])},2789:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(5893),i=a(7294),l=a(5451),n=a(2173),r=a(5675),o=a.n(r),c=a(6543);let d={textTransform:"none",color:"#fff",fontSize:"1.125rem",borderRadius:"100px",height:40,display:"flex",alignItems:"center",justifyContent:"center"};var m=e=>{let{className:t=""}=e,[a,r]=(0,i.useState)(["predictions","head-to-head"]),[m,g]=(0,i.useState)(!1);return(0,s.jsx)(c.E.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:"self-stretch border-bottom-gradient box-border overflow-hidden h-[6.25rem] px-[2.5rem] top-[0] z-[99] sticky flex items-center pl-[0.625rem] md:pl-[2.5rem] ".concat(t),children:(0,s.jsxs)("div",{className:"w-[85rem] mx-auto flex flex-row items-center justify-between gap-[1.25rem]",children:[(0,s.jsx)("div",{id:"brand",children:(0,s.jsx)("div",{id:"stage_logo",children:(0,s.jsx)(o(),{className:"h-[2.625rem] w-[9.0625rem] relative",loading:"lazy",width:145,height:42,alt:"Stage Community",src:"/images/logo.svg"})})}),(0,s.jsxs)("div",{id:"main_nav_container",className:"relative hidden ipad:flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{id:"blury",className:"absolute w-[33.3125rem] h-[3.5rem] [filter:blur(60px)] rounded-81xl bg-stage-primary opacity-20 z-0"}),(0,s.jsxs)("div",{id:"header_nav",className:"relative w-[30.3125rem] h-[3.5rem] border-gradient bg-[#0A0A0A] rounded-full flex items-center gap-[0.312rem] p-[0.5rem] z-10",children:[(0,s.jsx)(l.Z,{title:"Coming soon",arrow:!0,placement:"bottom",children:(0,s.jsx)("span",{className:"flex-1",children:(0,s.jsx)(n.Z,{className:"h-[2.5rem] w-full",startIcon:(0,s.jsx)("img",{width:"20px",height:"20px",src:"/images/mp_icon.svg"}),disableElevation:!0,disabled:!0,variant:"contained",sx:{...d,background:"transparent !important",opacity:"1 !important",cursor:"default",color:"#A48EF9 !important","&:hover":{background:"rgba(164, 142, 249, 0.1) !important"}},children:"Music Predictions"})})}),(0,s.jsx)(l.Z,{title:"Coming soon",arrow:!0,placement:"bottom",children:(0,s.jsx)("span",{className:"flex-1",children:(0,s.jsx)(n.Z,{className:"h-[2.5rem] w-full",startIcon:(0,s.jsx)("img",{width:"20px",height:"20px",src:"/images/h2h_icon.svg"}),disableElevation:!0,disabled:!0,variant:"contained",sx:{...d,background:"transparent !important",opacity:"1 !important",cursor:"default",color:"#A48EF9 !important","&:hover":{background:"rgba(164, 142, 249, 0.1) !important"}},children:"Head To Head"})})})]})]}),(0,s.jsx)("div",{id:"spacer",className:"h-[2.625rem] w-[2.625rem] ipad:w-[9.0625rem] relative hidden ipad:block"})]})})},g=a(914),x=a(3114),u=a(9347),h=a(9430),p=a(110),f=a(6727),w=e=>{let{finalAngle:t=45,onSpinEnd:a,isVisible:l=!0}=e,[r,d]=(0,i.useState)(!1),[m,w]=(0,i.useState)(!1),[b,j]=(0,i.useState)(0),[v,y]=(0,i.useState)(!1),[N,S]=(0,i.useState)(""),[k,C]=(0,i.useState)(()=>"true"===localStorage.getItem("hasSpun")),[E,A]=(0,i.useState)("");(0,i.useEffect)(()=>{k?localStorage.setItem("hasSpun","true"):localStorage.removeItem("hasSpun")},[k]),(0,i.useEffect)(()=>{let e=localStorage.getItem("hasSpun"),t=localStorage.getItem("prizeMessage");if("true"===e&&(w(!0),C(!0),t)){A(t);let e=0;t.includes("USDT")?e=45:t.includes("STAGE")&&(e=180),j(e)}},[]);let z=async()=>{var e,t,a,s;if(console.log("1. Starting checkWallet"),!window.ethereum)return console.log("2. MetaMask is not installed"),S("Please install MetaMask to continue."),y(!0),!1;console.log("2. MetaMask is installed");try{console.log("3. Attempting to connect to MetaMask");let a=new u.Q(window.ethereum);console.log("4. Requesting accounts");let s=await a.send("eth_requestAccounts",[]);if(console.log("5. Accounts obtained:",s),0===s.length)return console.log("6. No accounts found"),S("Please connect your wallet."),y(!0),!1;let i=s[0].toLowerCase();console.log("6. Wallet connected:",i);try{if(k)return S("You have already been rewarded."),y(!0),!1;console.log("8. Making fetch to Firebase");let e=await fetch("https://us-central1-raffle-stage-baa32.cloudfunctions.net/checkWallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:i})});console.log("9. Response status:",e.status);let t=await e.json();console.log("Server response:",t);let a=0;if("7"===t.prize){console.log("Entering prize condition 7"),a=45;let e="Congrats you won $5 STAGE!";A(e),localStorage.setItem("prizeMessage",e),C(!0),localStorage.setItem("hasSpun","true")}else if("8"===t.prize){console.log("Entering prize condition 8"),a=180;let e="Congrats you won 5 USDT!";A(e),localStorage.setItem("prizeMessage",e),C(!0),localStorage.setItem("hasSpun","true")}else t.success&&"wallet not found"!==t.message?(console.log("Entering else condition"),a=360,A("An error occurred while checking your wallet")):(console.log("Entering wallet not found condition"),a=0,A("This wallet hasn't staked during the campaign"));console.log("Final angle selected:",a);let s=2160+a;return j(s),s}catch(a){return console.error("Error in the process:",a),(null===(e=a.message)||void 0===e?void 0:e.includes("User rejected"))?S("Connection cancelled. Please try again."):(null===(t=a.message)||void 0===t?void 0:t.includes("JSON"))?S("Connection error. Please try again later."):S("An error occurred. Please try again."),y(!0),!1}}catch(e){return console.error("Error in the process:",e),(null===(a=e.message)||void 0===a?void 0:a.includes("User rejected"))?S("Connection cancelled. Please try again."):(null===(s=e.message)||void 0===s?void 0:s.includes("JSON"))?S("Connection error. Please try again later."):S("An error occurred. Please try again."),y(!0),!1}},F=async()=>{if(console.log("Starting handleSpin"),r||k){console.log("Already spinning or already spun");return}d(!0);let e=await z();if(console.log("Angle received:",e),!1===e){console.log("Could not get angle"),d(!1);return}console.log("Starting spin with angle:",e),d(!0),w(!0),j(k?e:2160+e),setTimeout(()=>{console.log("Spin completed"),d(!1),null==a||a()},5e3)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.M,{children:l&&(0,s.jsxs)(c.E.div,{className:"flex flex-col items-center gap-4 overflow-hidden p-4 relative",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:[(0,s.jsx)(c.E.div,{className:"relative w-[470px] h-[470px]",initial:{rotate:0},animate:{rotate:b},transition:{duration:5,ease:"easeInOut"},children:(0,s.jsx)(o(),{src:"/images/spinwheel.png",alt:"Ruleta de premios",width:470,height:470,priority:!0})}),(0,s.jsx)("button",{onClick:F,disabled:r||k,className:"px-6 py-2 rounded-full font-bold ".concat(r||k?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#A98AF9] to-[#D0BEFF] hover:opacity-90"," text-white"),children:r?"Spinning...":k?"Spun":"Spin"}),(0,s.jsx)("div",{id:"spincenter",className:"absolute top-[32px] ",children:(0,s.jsx)(o(),{src:"/images/spin-center.png",alt:"",width:72,height:253,priority:!0})}),E&&(0,s.jsx)("div",{className:"bg-stage-card-dark w-[80%] shadow-xl text-white font-semibold py-4 px-7 rounded-full text-center absolute top-[45%] left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:E})]})}),(0,s.jsxs)(g.Z,{open:v,onClose:()=>y(!1),"aria-labelledby":"wallet-dialog-title",children:[(0,s.jsx)(h.Z,{id:"wallet-dialog-title",children:"Wallet Connection Required"}),(0,s.jsx)(p.Z,{children:N}),(0,s.jsxs)(f.Z,{children:[(0,s.jsx)(n.Z,{onClick:()=>y(!1),children:"Close"}),!window.ethereum&&(0,s.jsx)(n.Z,{onClick:()=>window.open("https://metamask.io/download/","_blank"),color:"primary",children:"Install MetaMask"})]})]})]})};let b=e=>{let{onOpenDialog:t}=e,[a,l]=(0,i.useState)({days:0,hours:0,minutes:0,seconds:0}),[n,r]=(0,i.useState)(!1),o=e=>e.toString().padStart(2,"0");return((0,i.useEffect)(()=>{let e=new Date("2024-12-18T14:00:00Z"),t=()=>{let t=new Date,a=e.getTime()-t.getTime();return a<=0?(r(!0),{days:0,hours:0,minutes:0,seconds:0}):{days:Math.floor(a/864e5),hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)}};l(t());let a=setInterval(()=>{l(t())},1e3);return()=>clearInterval(a)},[]),n)?(0,s.jsx)("button",{className:"p-[1px] rounded-full bg-gradient-to-r from-[#D0BEFF] to-[#A98AF9] hover:opacity-90 transition-opacity cursor-pointer w-fit",onClick:t,children:(0,s.jsx)("div",{className:"px-6 py-2 rounded-full text-white font-bold bg-gradient-to-r from-[#A98AF9] to-[#D0BEFF] hover:bg-[#865CF7] hover:text-white",children:(0,s.jsx)("span",{children:"Spin to Claim Prize"})})}):(0,s.jsx)("div",{className:"p-[1px] rounded-full bg-gradient-to-r from-[#865CF7] to-[#5435AA]",children:(0,s.jsx)("div",{className:"px-6 py-3 rounded-full bg-[#12152F]",children:(0,s.jsx)("span",{className:"text-white",children:"".concat(o(a.days),"d ").concat(o(a.hours),"h ").concat(o(a.minutes),"m ").concat(o(a.seconds),"s")})})})},j=[{name:"Tesla Model S",suffix:"White(1x)",image:"/images/grid/01.png"},{name:"Rolex",suffix:"(2x)",image:"/images/grid/02.png"},{name:"Playstation 5",suffix:"(10x)",image:"/images/grid/03.png"},{name:"iPhone 16 Pro",suffix:"(5x)",image:"/images/grid/04.png"},{name:"50 $Stage",image:"/images/grid/05.png"},{name:"25 $Stage",image:"/images/grid/05.png"},{name:"10 $Stage",image:"/images/grid/05.png"},{name:"5 $Stage",image:"/images/grid/05.png"},{name:"10 USDT",image:"/images/grid/09.png"},{name:"5 USDT",image:"/images/grid/09.png"}];var v=()=>{let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=()=>{t(window.innerWidth>=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("section",{className:"flex-1 flex flex-col gap-6",children:[(0,s.jsx)("article",{children:(0,s.jsxs)("div",{id:"topCard",className:"self-stretch rounded-3xl relative w-full min-h-[18.0625rem] p-8 md:p-8 lg:p-[2rem]",style:{backgroundColor:"#865CF7"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-cover bg-center z-0 rounded-3xl",style:{backgroundImage:"url(/images/bg-01.png)",opacity:"0.1"}}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col lg:flex-row items-center lg:items-center lg:justify-between h-full gap-6",children:[(0,s.jsx)(c.E.div,{className:"lg:hidden relative w-full max-w-[408px] aspect-[408/249]",initial:{opacity:0,y:-50,x:0},animate:{opacity:1,y:0,x:0},transition:{duration:.8,ease:[.16,1,.3,1]},children:(0,s.jsx)(o(),{src:"/images/prizes.png",alt:"Prizes",fill:!0,className:"object-contain",priority:!0})}),(0,s.jsx)(c.E.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"hidden lg:block relative w-full max-w-[408px] aspect-[408/249] lg:order-2",children:(0,s.jsx)(o(),{src:"/images/prizes.png",alt:"Prizes",fill:!0,className:"object-contain",priority:!0})}),(0,s.jsxs)(c.E.div,{className:"flex flex-col justify-between items-center lg:items-start text-center lg:text-left w-full h-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:[(0,s.jsx)("div",{className:"w-fit bg-[#D0BEFF] bg-opacity-20 rounded-full px-4 md:px-6 py-2 mb-4 md:mb-[1.5rem] text-white font-medium text-sm md:text-[1rem] tracking-3percent",children:"11 December 2024, 2PM UTC - 18 December 2024, 2PM UTC"}),(0,s.jsx)("h1",{className:"text-3xl md:text-3xl lg:text-[2rem] font-bold text-white mb-3 md:mb-[20px] leading-tight",children:"Spin And Win $STAGE And More!"}),(0,s.jsx)("p",{className:"text-white font-medium text-sm md:text-[1rem] sm:w-9/12 lg:w-[600px] sm:text-[1.1rem] mb-4 md:mb-[2rem] leading-[1.4]",children:"Spin to win $STAGE & other prizes such as: Tesla Model S white, iPhone 16 Pro, Rolex, Playstation 5 And USDT."}),(0,s.jsx)("button",{className:"mt-[25px] lg:mt-[0] rounded-full bg-gradient-to-r from-[#D0BEFF] to-[#A98AF9] hover:opacity-90 transition-opacity cursor-pointer w-fit mb-4 md:mb-0",onClick:()=>window.open("https://staking.stage.community/","_blank","noopener,noreferrer"),children:(0,s.jsx)("div",{className:"px-12 py-4 lg:px-6 lg:py-2 rounded-full text-[#7949F6] font-medium bg-white hover:bg-[#865CF7] hover:text-white text-[1.3rem] lg:text-[1rem]",children:(0,s.jsx)("span",{children:"Stake Now"})})})]})]})]})}),(0,s.jsxs)("article",{children:[(0,s.jsx)("h2",{className:"h2-title",children:"Claim Your Prize in 3 Steps"}),(0,s.jsxs)("div",{id:"middleCard",className:"self-stretch rounded-3xl relative w-full min-h-[18.0625rem] py-[4rem] px-[1.5rem] md:p-[2rem] flex items-center",style:{backgroundColor:"#12152F"},children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden rounded-3xl",children:[(0,s.jsx)(c.E.div,{className:"absolute inset-[-50%] w-[200%] h-[200%] z-0",initial:{opacity:0,scale:1.4,rotate:0,x:400},animate:{opacity:1,scale:1.4,rotate:360,x:400},transition:{opacity:{duration:.8,ease:"easeOut"},scale:{duration:.8,ease:"easeOut"},rotate:{duration:20,repeat:1/0,ease:"linear"}},style:{backgroundImage:"url(/images/looper_bg.svg)",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),(0,s.jsx)("div",{className:"absolute inset-0 z-10",style:{background:"linear-gradient(to right, #12152F 50%, rgba(18, 21, 47, 0.5) 75%, transparent 100%)"}})]}),(0,s.jsx)("div",{className:"relative z-10 container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-8 max-w-[100%]",children:[(0,s.jsxs)("div",{className:"flex flex-row items-start gap-6 relative min-w-0",children:[(0,s.jsxs)("div",{className:"relative w-10 h-10 flex items-center justify-center shrink-0",children:[(0,s.jsx)(o(),{src:"/images/bg-bullet-active.svg",alt:"bullet",fill:!0}),(0,s.jsx)("span",{className:"relative z-10 text-white",children:"01"})]}),(0,s.jsx)("div",{className:"min-w-0 flex-1",children:(0,s.jsxs)("span",{className:"text-white text-base sm:text-xl break-words",children:["Stake $STAGE Tokens on"," ",(0,s.jsx)("a",{href:"https://staking.stage.community",target:"_blank",rel:"noopener noreferrer",className:"text-[#D0BEFF] hover:opacity-80 transition-opacity break-all",children:"staking.stage.community"})]})}),(0,s.jsx)("div",{className:"absolute left-5 top-10 w-[2px] h-[2.5rem] bg-gradient-to-b from-[#865CF7] to-[#5435AA]"})]}),(0,s.jsxs)("div",{className:"flex flex-row items-start gap-6 relative min-w-0",children:[(0,s.jsxs)("div",{className:"relative w-10 h-10 flex items-center justify-center shrink-0",children:[(0,s.jsx)(o(),{src:"/images/bg-bullet.svg",alt:"bullet",fill:!0}),(0,s.jsx)("span",{className:"relative z-10 text-white",children:"02"})]}),(0,s.jsx)("div",{className:"min-w-0 flex-1",children:(0,s.jsx)("span",{className:"text-stage-lightGray text-base sm:text-xl break-words",children:"Snapshot on the 18th of December at 2PM UTC"})}),(0,s.jsx)("div",{className:"absolute left-5 top-10 w-[2px] h-[2.5rem] bg-gradient-to-b from-[#865CF7] to-[#5435AA]"})]}),(0,s.jsxs)("div",{className:"flex flex-row items-start gap-6 min-w-0",children:[(0,s.jsxs)("div",{className:"relative w-10 h-10 flex items-center justify-center shrink-0",children:[(0,s.jsx)(o(),{src:"/images/bg-bullet.svg",alt:"bullet",fill:!0}),(0,s.jsx)("span",{className:"relative z-10 text-white",children:"03"})]}),(0,s.jsx)("div",{className:"min-w-0 flex-1",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsx)("span",{className:"text-stage-lightGray text-base sm:text-xl whitespace-normal sm:whitespace-nowrap",children:"Claim Your Prize In:"}),(0,s.jsx)(b,{onOpenDialog:()=>l(!0)})]})})]})]})})]})]}),(0,s.jsxs)("article",{children:[(0,s.jsx)("h2",{className:"h2-title",children:"Spin and win $STAGE and More!"}),(0,s.jsx)("div",{id:"lastCard",className:"self-stretch rounded-3xl relative w-full bg-stage-card-dark p-4 sm:p-6 md:p-8",children:(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 justify-between w-full",children:j.map((e,t)=>(0,s.jsx)("div",{className:"flex justify-center w-full",children:(0,s.jsxs)("div",{className:"w-full max-w-[192px] h-auto min-h-[148px] bg-[#212043] rounded-xl p-3 sm:p-4 flex flex-col items-center shadow-[1px_1px_0px_0px_rgba(255,255,255,0.1)]",children:[(0,s.jsx)("div",{className:"relative w-16 sm:w-20 md:w-24 aspect-square mb-2",children:(0,s.jsx)(o(),{src:e.image,alt:e.name,fill:!0,className:"object-contain"})}),(0,s.jsx)("p",{className:"text-white text-center font-medium text-sm sm:text-base md:text-[1rem] leading-tight",children:e.name}),(0,s.jsx)("p",{className:"text-stage-lightGray text-center text-xs sm:text-sm",children:e.suffix})]})},t))})})]}),(0,s.jsx)(g.Z,{open:a,onClose:()=>l(!1),maxWidth:"md",fullWidth:!0,PaperProps:{style:{backgroundColor:"transparent",boxShadow:"none",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"}},children:(0,s.jsx)(w,{finalAngle:45,onSpinEnd:()=>{console.log("Rotation finished!")},isVisible:a})})]})},y=()=>{let[e,t]=(0,i.useState)({});return(0,s.jsxs)("div",{className:"relative bg-whitesmoke w-full min-h-screen flex flex-col",children:[(0,s.jsx)(m,{}),(0,s.jsx)("main",{className:"flex-1 flex flex-row w-full max-w-[90rem] mx-auto mb-[2.5rem] text-white pt-6 px-[0.625rem] sm:px-[2.5rem]",children:(0,s.jsx)("section",{className:"flex-1 flex",children:(0,s.jsx)(v,{})})})]})}}},function(e){e.O(0,[62,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);